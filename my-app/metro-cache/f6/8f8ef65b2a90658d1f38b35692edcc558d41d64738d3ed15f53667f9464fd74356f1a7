{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"expo","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ShakeEventExpo = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _react = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _expo = _$$_REQUIRE(_dependencyMap[4], \"expo\");\n\n  var THRESHOLD = 800;\n\n  var ShakeEventExpo = function () {\n    function ShakeEventExpo() {\n      (0, _classCallCheck2.default)(this, ShakeEventExpo);\n    }\n\n    (0, _createClass2.default)(ShakeEventExpo, null, [{\n      key: \"addListener\",\n      value: function addListener(handler) {\n        var last_x, last_y, last_z;\n        var lastUpdate = 0;\n\n        _expo.Accelerometer.addListener(function (accelerometerData) {\n          var x = accelerometerData.x,\n              y = accelerometerData.y,\n              z = accelerometerData.z;\n          var currTime = Date.now();\n\n          if (currTime - lastUpdate > 100) {\n            var diffTime = currTime - lastUpdate;\n            lastUpdate = currTime;\n            var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;\n\n            if (speed > THRESHOLD) {\n              console.log(currTime + 'lastupdate: ' + lastUpdate);\n              console.log(diffTime);\n              console.log(\"sensor\", \"shake detected w/ speed: \" + speed);\n              handler();\n            }\n\n            last_x = x;\n            last_y = y;\n            last_z = z;\n          }\n        });\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        _expo.Accelerometer.removeAllListeners();\n      }\n    }]);\n    return ShakeEventExpo;\n  }();\n\n  exports.ShakeEventExpo = ShakeEventExpo;\n  ;\n});","map":[[2,0,7,0],[15,0,9,0],[17,0,10,0],[19,0,14,0],[19,6,14,6,"THRESHOLD"],[19,15,14,15],[19,18,14,18],[19,21,14,0],[21,6,16,13,"ShakeEventExpo"],[21,20],[28,34,17,23,"handler"],[28,41],[28,43,17,32],[29,0,18,8],[29,12,19,12,"last_x"],[29,18,18,8],[29,20,20,12,"last_y"],[29,26,18,8],[29,28,21,12,"last_z"],[29,34,18,8],[30,0,22,8],[30,12,22,12,"lastUpdate"],[30,22,22,22],[30,25,22,25],[30,26,22,8],[32,0,23,8,"Accelerometer"],[32,28,23,22,"addListener"],[32,39,23,8],[32,40,23,34],[32,50,23,34,"accelerometerData"],[32,67,23,51],[32,69,23,55],[33,0,23,55],[33,14,24,17,"x"],[33,15,23,55],[33,18,24,28,"accelerometerData"],[33,35,23,55],[33,36,24,17,"x"],[33,37,23,55],[34,0,23,55],[34,14,24,20,"y"],[34,15,23,55],[34,18,24,28,"accelerometerData"],[34,35,23,55],[34,36,24,20,"y"],[34,37,23,55],[35,0,23,55],[35,14,24,23,"z"],[35,15,23,55],[35,18,24,28,"accelerometerData"],[35,35,23,55],[35,36,24,23,"z"],[35,37,23,55],[36,0,25,12],[36,14,25,16,"currTime"],[36,22,25,24],[36,25,25,27,"Date"],[36,29,25,31],[36,30,25,32,"now"],[36,33,25,27],[36,35,25,12],[38,0,26,12],[38,14,26,17,"currTime"],[38,22,26,25],[38,25,26,28,"lastUpdate"],[38,35,26,16],[38,38,26,42],[38,41,26,12],[38,43,26,47],[39,0,27,16],[39,16,27,20,"diffTime"],[39,24,27,28],[39,27,27,32,"currTime"],[39,35,27,40],[39,38,27,43,"lastUpdate"],[39,48,27,16],[40,0,28,16,"lastUpdate"],[40,12,28,16,"lastUpdate"],[40,22,28,26],[40,25,28,29,"currTime"],[40,33,28,16],[41,0,30,16],[41,16,30,20,"speed"],[41,21,30,25],[41,24,30,28,"Math"],[41,28,30,32],[41,29,30,33,"abs"],[41,32,30,28],[41,33,30,37,"x"],[41,34,30,38],[41,37,30,41,"y"],[41,38,30,37],[41,41,30,45,"z"],[41,42,30,37],[41,45,30,49,"last_x"],[41,51,30,37],[41,54,30,58,"last_y"],[41,60,30,37],[41,63,30,67,"last_z"],[41,69,30,28],[41,73,30,77,"diffTime"],[41,81,30,28],[41,84,30,88],[41,89,30,16],[43,0,32,16],[43,16,32,21,"speed"],[43,21,32,26],[43,24,32,29,"THRESHOLD"],[43,33,32,16],[43,35,32,41],[44,0,33,20,"console"],[44,14,33,20,"console"],[44,21,33,27],[44,22,33,28,"log"],[44,25,33,20],[44,26,33,32,"currTime"],[44,34,33,40],[44,37,33,43],[44,51,33,32],[44,54,33,60,"lastUpdate"],[44,64,33,20],[45,0,34,20,"console"],[45,14,34,20,"console"],[45,21,34,27],[45,22,34,28,"log"],[45,25,34,20],[45,26,34,32,"diffTime"],[45,34,34,20],[46,0,35,20,"console"],[46,14,35,20,"console"],[46,21,35,27],[46,22,35,28,"log"],[46,25,35,20],[46,26,35,32],[46,34,35,20],[46,36,35,42],[46,66,35,72,"speed"],[46,71,35,20],[47,0,36,20,"handler"],[47,14,36,20,"handler"],[47,21,36,27],[48,0,37,17],[50,0,38,16,"last_x"],[50,12,38,16,"last_x"],[50,18,38,22],[50,21,38,25,"x"],[50,22,38,16],[51,0,39,16,"last_y"],[51,12,39,16,"last_y"],[51,18,39,22],[51,21,39,25,"y"],[51,22,39,16],[52,0,40,16,"last_z"],[52,12,40,16,"last_z"],[52,18,40,22],[52,21,40,25,"z"],[52,22,40,16],[53,0,41,13],[54,0,42,9],[54,9,23,8],[55,0,43,5],[58,39,44,28],[59,0,45,8,"Accelerometer"],[59,28,45,22,"removeAllListeners"],[59,46,45,8],[60,0,46,5],[66,0,47,1]]},"type":"js/module"}]}