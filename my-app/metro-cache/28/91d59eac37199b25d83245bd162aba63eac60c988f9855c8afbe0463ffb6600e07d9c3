{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"expo-constants","data":{"isAsync":false}},{"name":"fbemitter","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"uuid-js","data":{"isAsync":false}},{"name":"./LogSerialization","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.__waitForEmptyLogQueueAsync=function(){if(b)return b;if(!w&&!h.length)return Promise.resolve();return b=new Promise(function(t){x=function(){(0,c.default)(!w,\"Must not be sending logs at completion\"),(0,c.default)(!h.length,\"Log queue must be empty at completion\"),b=null,x=null,t()}})},e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=r(d[4]),c=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),p=l.default.create().toString(),h=[],v=new o.EventEmitter,y=0,w=!1,b=null,x=null;function k(){var t,s;return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!w&&h.length){o.next=2;break}return o.abrupt(\"return\");case 2:return t=h.splice(0),s=u.default.manifest.logUrl,(0,c.default)('string'==typeof s,'The Expo project manifest must specify `logUrl`'),w=!0,o.prev=6,o.next=9,n.default.awrap(E(t,s));case 9:return o.prev=9,w=!1,o.finish(9);case 12:if(!h.length){o.next=16;break}return o.abrupt(\"return\",k());case 16:x&&x();case 17:case\"end\":return o.stop()}},null,this,[[6,,9,12]])}function E(t,s){var o;return n.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,n.default.awrap(fetch(s,{method:'POST',headers:{'Content-Type':'application/json',Connection:'keep-alive','Proxy-Connection':'keep-alive',Accept:'application/json','Device-Id':u.default.installationId,'Device-Name':u.default.deviceName,'Session-Id':p},body:JSON.stringify(t)}));case 3:o=c.sent,c.next=10;break;case 6:return c.prev=6,c.t0=c.catch(0),v.emit('error',{error:c.t0}),c.abrupt(\"return\");case 10:o.status>=200&&o.status<300||v.emit('error',{error:new Error(\"An HTTP error occurred when sending remote logs\"),response:o});case 12:case\"end\":return c.stop()}},null,this,[[0,6]])}function T(t){var n=t[0];return 1===t.length&&'string'==typeof n&&n.startsWith('Warning: ')}var L={enqueueRemoteLogAsync:function(t,u,o){var c,l,p,v,w;return n.default.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(!T(o)){b.next=8;break}if(0!==o.length){b.next=3;break}throw new Error(\"Warnings must include log arguments\");case 3:if('string'==typeof(c=o[0])){b.next=6;break}throw new TypeError(\"The log argument for a warning must be a string\");case 6:(l=c.split('\\n')).length>1&&/^\\s+in /.test(l[1])&&(o[0]=l[0]);case 8:return b.next=10,n.default.awrap(f.default.serializeLogDataAsync(o,t));case 10:p=b.sent,v=p.body,w=p.includesStack,h.push((0,s.default)({count:y++,level:t,body:v,includesStack:w},u)),k().catch(function(t){setImmediate(function(){throw t})});case 15:case\"end\":return b.stop()}},null,this)},addTransportErrorListener:function(t){return v.addListener('error',t)}};e.default=L});","map":[[1,121,111,7],[1,132,112,4],[1,135,112,8,"_completionPromise"],[1,137,113,8],[1,144,113,15,"_completionPromise"],[1,146,115,4],[1,150,115,9,"_isSendingLogs"],[1,154,115,28,"_logQueue"],[1,156,115,38,"length"],[1,163,116,8],[1,170,116,15,"Promise"],[1,178,116,23,"resolve"],[1,188,127,4],[1,195,118,4,"_completionPromise"],[1,197,118,25],[1,201,118,29,"Promise"],[1,209,118,37],[1,218,118,37,"resolve"],[1,221,119,8,"_resolveCompletion"],[1,223,119,29],[1,235,120,12],[1,237,120,12,"_invariant"],[1,239,120,12,"default"],[1,249,120,23,"_isSendingLogs"],[1,251,120,12],[1,294,121,12],[1,296,121,12,"_invariant"],[1,298,121,12,"default"],[1,308,121,23,"_logQueue"],[1,310,121,33,"length"],[1,317,121,12],[1,358,122,12,"_completionPromise"],[1,360,122,33],[1,365,123,12,"_resolveCompletion"],[1,367,123,33],[1,372,124,12,"resolve"],[1,427,1,0,"_expoConstants"],[1,429,1,0,"_interopRequireDefault"],[1,431,1,0,"r"],[1,433,1,0,"d"],[1,435,1,0],[1,440,2,0,"_fbemitter"],[1,442,2,0,"r"],[1,444,2,0,"d"],[1,446,2,0],[1,450,3,0,"_invariant"],[1,452,3,0,"_interopRequireDefault"],[1,454,3,0,"r"],[1,456,3,0,"d"],[1,458,3,0],[1,463,4,0,"_uuidJs"],[1,465,4,0,"_interopRequireDefault"],[1,467,4,0,"r"],[1,469,4,0,"d"],[1,471,4,0],[1,476,5,0,"_LogSerialization"],[1,478,5,0,"_interopRequireDefault"],[1,480,5,0,"r"],[1,482,5,0,"d"],[1,484,5,0],[1,489,6,6,"_sessionId"],[1,491,6,19,"UUID"],[1,493,6,19,"UUID"],[1,501,6,24,"create"],[1,510,6,33,"toString"],[1,521,7,6,"_logQueue"],[1,526,8,6,"_transportEventEmitter"],[1,528,8,31],[1,532,8,35,"EventEmitter"],[1,534,8,35,"EventEmitter"],[1,547,9,4,"_logCounter"],[1,549,9,18],[1,551,10,4,"_isSendingLogs"],[1,554,10,21],[1,556,11,4,"_completionPromise"],[1,558,11,25],[1,563,12,4,"_resolveCompletion"],[1,565,12,25],[1,570,43,0],[1,579,43,15,"_sendRemoteLogsAsync"],[1,583,43,0],[1,587,43,0,"batch"],[1,589,43,0,"logUrl"],[1,591,43,0],[1,598,43,0,"_regenerator"],[1,600,43,0,"default"],[1,608,43,0,"async"],[1,614,43,0],[1,623,43,0,"_context2"],[1,626,43,0],[1,633,43,0],[1,640,43,0,"_context2"],[1,642,43,0,"prev"],[1,647,43,0,"_context2"],[1,649,43,0,"next"],[1,655,43,0],[1,660,43,0],[1,662,43,0],[1,666,44,8,"_isSendingLogs"],[1,669,44,27,"_logQueue"],[1,671,44,37,"length"],[1,678,43,0],[1,679,43,0,"_context2"],[1,681,43,0,"next"],[1,686,43,0],[1,688,43,0],[1,694,43,0],[1,701,43,0,"_context2"],[1,703,43,0,"abrupt"],[1,710,43,0],[1,720,43,0],[1,725,43,0],[1,727,43,0],[1,734,49,8,"batch"],[1,736,49,16,"_logQueue"],[1,738,49,26,"splice"],[1,745,49,33],[1,748,50,10,"logUrl"],[1,750,50,21,"Constants"],[1,752,50,21,"Constants"],[1,760,50,31,"manifest"],[1,769,50,10,"logUrl"],[1,777,51,4],[1,779,51,4,"_invariant"],[1,781,51,4,"default"],[1,790,51,32],[1,807,51,21,"logUrl"],[1,809,51,42],[1,860,52,4,"_isSendingLogs"],[1,863,52,21],[1,865,43,0,"_context2"],[1,867,43,0,"prev"],[1,872,43,0],[1,874,43,0,"_context2"],[1,876,43,0,"next"],[1,881,43,0],[1,883,43,0,"_regenerator"],[1,885,43,0,"default"],[1,893,43,0,"awrap"],[1,899,54,14,"_sendNextLogBatchAsync"],[1,901,54,37,"batch"],[1,903,54,44,"logUrl"],[1,907,43,0],[1,912,43,0],[1,914,43,0],[1,921,43,0,"_context2"],[1,923,43,0,"prev"],[1,928,43,0],[1,930,57,8,"_isSendingLogs"],[1,933,57,25],[1,935,43,0,"_context2"],[1,937,43,0,"finish"],[1,944,43,0],[1,947,43,0],[1,952,43,0],[1,955,43,0],[1,959,59,8,"_logQueue"],[1,961,59,18,"length"],[1,968,43,0],[1,969,43,0,"_context2"],[1,971,43,0,"next"],[1,976,43,0],[1,979,43,0],[1,985,43,0],[1,992,43,0,"_context2"],[1,994,43,0,"abrupt"],[1,1001,43,0],[1,1010,60,15,"_sendRemoteLogsAsync"],[1,1015,43,0],[1,1020,43,0],[1,1023,62,13,"_resolveCompletion"],[1,1026,63,8,"_resolveCompletion"],[1,1030,43,0],[1,1035,43,0],[1,1038,43,0],[1,1042,43,0],[1,1048,43,0],[1,1055,43,0,"_context2"],[1,1057,43,0,"stop"],[1,1066,43,0],[1,1071,43,0,"this"],[1,1078,43,0],[1,1080,43,0],[1,1081,43,0],[1,1083,43,0],[1,1089,66,0],[1,1098,66,15,"_sendNextLogBatchAsync"],[1,1100,66,38,"batch"],[1,1102,66,45,"logUrl"],[1,1105,66,0],[1,1109,66,0,"response"],[1,1111,66,0],[1,1118,66,0,"_regenerator"],[1,1120,66,0,"default"],[1,1128,66,0,"async"],[1,1134,66,0],[1,1143,66,0,"_context3"],[1,1146,66,0],[1,1153,66,0],[1,1160,66,0,"_context3"],[1,1162,66,0,"prev"],[1,1167,66,0,"_context3"],[1,1169,66,0,"next"],[1,1175,66,0],[1,1180,66,0],[1,1182,66,0],[1,1189,66,0,"_context3"],[1,1191,66,0,"prev"],[1,1196,66,0],[1,1198,66,0,"_context3"],[1,1200,66,0,"next"],[1,1205,66,0],[1,1207,66,0,"_regenerator"],[1,1209,66,0,"default"],[1,1217,66,0,"awrap"],[1,1223,69,25,"fetch"],[1,1229,69,31,"logUrl"],[1,1232,70,12,"method"],[1,1239,70,20],[1,1246,71,12,"headers"],[1,1255,72,16,"Content-Type"],[1,1270,72,32],[1,1289,73,16,"Connection"],[1,1300,73,28],[1,1313,74,16,"Proxy-Connection"],[1,1332,74,36],[1,1345,75,16,"Accept"],[1,1352,75,24],[1,1371,76,16,"Device-Id"],[1,1383,76,29,"Constants"],[1,1385,76,29,"Constants"],[1,1393,76,39,"installationId"],[1,1408,77,16,"Device-Name"],[1,1422,77,31,"Constants"],[1,1424,77,31,"Constants"],[1,1432,77,41,"deviceName"],[1,1443,78,16,"Session-Id"],[1,1456,78,30,"_sessionId"],[1,1459,80,12,"body"],[1,1464,80,18,"JSON"],[1,1469,80,23,"stringify"],[1,1479,80,33,"batch"],[1,1485,66,0],[1,1490,66,0],[1,1492,69,8,"response"],[1,1494,66,0,"_context3"],[1,1496,66,0,"sent"],[1,1501,66,0,"_context3"],[1,1503,66,0,"next"],[1,1508,66,0],[1,1511,66,0],[1,1517,66,0],[1,1522,66,0],[1,1524,66,0],[1,1531,66,0,"_context3"],[1,1533,66,0,"prev"],[1,1538,66,0],[1,1540,66,0,"_context3"],[1,1542,66,0,"t0"],[1,1545,66,0,"_context3"],[1,1547,66,0],[1,1553,66,0],[1,1556,84,8,"_transportEventEmitter"],[1,1558,84,31,"emit"],[1,1563,84,36],[1,1572,84,47,"error"],[1,1578,84,52,"_context3"],[1,1580,84,52,"t0"],[1,1585,66,0,"_context3"],[1,1587,66,0,"abrupt"],[1,1594,66,0],[1,1604,66,0],[1,1609,66,0],[1,1612,87,18,"response"],[1,1614,87,27,"status"],[1,1622,87,37],[1,1627,87,44,"response"],[1,1629,87,53,"status"],[1,1636,87,62],[1,1641,89,8,"_transportEventEmitter"],[1,1643,89,31,"emit"],[1,1648,89,36],[1,1657,90,12,"error"],[1,1663,90,19],[1,1667,90,23,"Error"],[1,1673,90,19],[1,1724,91,12,"response"],[1,1733,91,12,"response"],[1,1737,66,0],[1,1742,66,0],[1,1745,66,0],[1,1749,66,0],[1,1755,66,0],[1,1762,66,0,"_context3"],[1,1764,66,0,"stop"],[1,1773,66,0],[1,1778,66,0,"this"],[1,1785,66,0],[1,1787,66,0],[1,1792,98,0],[1,1801,98,9,"_isReactNativeWarning"],[1,1803,98,31,"data"],[1,1806,100,4],[1,1810,100,8,"message"],[1,1812,100,18,"data"],[1,1814,100,23],[1,1817,101,4],[1,1824,101,27],[1,1828,101,11,"data"],[1,1830,101,16,"length"],[1,1838,101,51],[1,1855,101,39,"message"],[1,1858,101,63,"message"],[1,1860,101,71,"startsWith"],[1,1871,101,82],[1,1891,104,4,"enqueueRemoteLogAsync"],[1,1913,13,0],[1,1922,13,37,"level"],[1,1924,13,44,"additionalFields"],[1,1926,13,62,"data"],[1,1929,13,0],[1,1933,13,0,"warning"],[1,1935,13,0,"lines"],[1,1937,13,0,"_ref"],[1,1939,13,0,"body"],[1,1941,13,0,"includesStack"],[1,1943,13,0],[1,1950,13,0,"_regenerator"],[1,1952,13,0,"default"],[1,1960,13,0,"async"],[1,1966,13,0],[1,1975,13,0,"_context"],[1,1978,13,0],[1,1985,13,0],[1,1992,13,0,"_context"],[1,1994,13,0,"prev"],[1,1999,13,0,"_context"],[1,2001,13,0,"next"],[1,2007,13,0],[1,2012,13,0],[1,2014,13,0],[1,2018,14,8,"_isReactNativeWarning"],[1,2020,14,30,"data"],[1,2023,13,0],[1,2024,13,0,"_context"],[1,2026,13,0,"next"],[1,2031,13,0],[1,2033,13,0],[1,2039,13,0],[1,2042,16,28],[1,2046,16,12,"data"],[1,2048,16,17,"length"],[1,2055,13,0],[1,2056,13,0,"_context"],[1,2058,13,0,"next"],[1,2063,13,0],[1,2065,13,0],[1,2071,13,0],[1,2077,17,18],[1,2081,17,22,"Error"],[1,2087,17,18],[1,2126,13,0],[1,2131,13,0],[1,2133,13,0],[1,2136,20,31],[1,2153,19,14,"warning"],[1,2155,19,24,"data"],[1,2157,19,29],[1,2161,13,0],[1,2162,13,0,"_context"],[1,2164,13,0,"next"],[1,2169,13,0],[1,2171,13,0],[1,2177,13,0],[1,2183,21,18],[1,2187,21,22,"TypeError"],[1,2197,21,18],[1,2248,13,0],[1,2253,13,0],[1,2256,23,14,"lines"],[1,2258,23,22,"warning"],[1,2260,23,30,"split"],[1,2266,23,36],[1,2273,24,18,"length"],[1,2280,24,27],[1,2283,24,32],[1,2293,24,42,"test"],[1,2298,24,47,"lines"],[1,2300,24,53],[1,2306,25,12,"data"],[1,2308,25,17],[1,2311,25,22,"lines"],[1,2313,25,28],[1,2317,13,0],[1,2322,13,0],[1,2324,13,0],[1,2331,13,0,"_context"],[1,2333,13,0,"next"],[1,2338,13,0],[1,2341,13,0,"_regenerator"],[1,2343,13,0,"default"],[1,2351,13,0,"awrap"],[1,2357,28,40,"LogSerialization"],[1,2359,28,40,"LogSerialization"],[1,2367,28,57,"serializeLogDataAsync"],[1,2389,28,79,"data"],[1,2391,28,85,"level"],[1,2395,13,0],[1,2400,13,0],[1,2403,13,0,"_ref"],[1,2405,13,0,"_context"],[1,2407,13,0,"sent"],[1,2412,28,10,"body"],[1,2414,13,0,"_ref"],[1,2416,28,10,"body"],[1,2421,28,16,"includesStack"],[1,2423,13,0,"_ref"],[1,2425,28,16,"includesStack"],[1,2439,29,4,"_logQueue"],[1,2441,29,14,"push"],[1,2447,29,4],[1,2449,29,4,"_objectSpread2"],[1,2451,29,4,"default"],[1,2461,30,8,"count"],[1,2467,30,15,"_logCounter"],[1,2471,31,8,"level"],[1,2477,31,8,"level"],[1,2479,32,8,"body"],[1,2484,32,8,"body"],[1,2486,33,8,"includesStack"],[1,2500,33,8,"includesStack"],[1,2503,34,11,"additionalFields"],[1,2507,37,4,"_sendRemoteLogsAsync"],[1,2511,37,27,"catch"],[1,2517,37,33],[1,2526,37,33,"error"],[1,2529,38,8,"setImmediate"],[1,2542,38,21],[1,2553,39,12],[1,2559,39,18,"error"],[1,2565,13,0],[1,2570,13,0],[1,2573,13,0],[1,2577,13,0],[1,2583,13,0],[1,2590,13,0,"_context"],[1,2592,13,0,"stop"],[1,2601,13,0],[1,2606,13,0,"this"],[1,2613,105,4,"addTransportErrorListener"],[1,2639,95,0],[1,2648,95,35,"listener"],[1,2651,96,4],[1,2658,96,11,"_transportEventEmitter"],[1,2660,96,34,"addListener"],[1,2672,96,46],[1,2680,96,55,"listener"]]},"type":"js/module"}]}